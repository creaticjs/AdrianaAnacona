<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

</head>

<body>

    <p>FILTRO</p>
    <select name="" id="equipos">
        <option value="B"> categoria B</option>
        <option value="A"> categoria A</option>
    </select>
    <button onclick="ordenar()">Ordenar</button>
    <br>
    <br>
    <div id="contenedor">
        <p>Contenido</p>
    </div>
    <table border="1px">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Puntaje</th>
            </tr>
        </thead>
        <tbody id="cuerpoTabla">

        </tbody>
    </table>

    <script>

        var tamaño = 0;
        var nombreEquipo = "";
        var categoriaEquipos = [];
        var ordenado;
        var auxE = "";
        var auxT = "";

        var datostabla =
            [{ equipo: "Medellin", puntos: 22, categoria: "A" },
            { equipo: "cali", puntos: 16, categoria: "A" },
            { equipo: "America", puntos: 17, categoria: "A" },
            { equipo: "Nacional", puntos: 8, categoria: "B" },
            { equipo: "Pasto", puntos: 5, categoria: "B" },
            { equipo: "Tolima", puntos: 14, categoria: "B" },
            { equipo: "Cundinamarca", puntos: 18, categoria: "B" },
            { equipo: "Popayan", puntos: 15, categoria: "B" },
            { equipo: "America", puntos: 17, categoria: "A" },
            { equipo: "Nacional", puntos: 8, categoria: "B" },
            { equipo: "Pasto", puntos: 5, categoria: "B" },
            { equipo: "Tolima", puntos: 14, categoria: "B" },
            { equipo: "Cundinamarca", puntos: 18, categoria: "B" },
            { equipo: "Popayan", puntos: 15, categoria: "B" }
            ];
        
        var tamaño = datostabla.length;

        var selEquipo = document.getElementById('equipos');
        var cont = document.getElementById('contenedor');
        
        cont.innerHTML = auxE;

        var cTable = document.getElementById('cuerpoTabla')
        
        datostabla.forEach(function (equipo, index) {
            auxT += "<tr><td>" + equipo.equipo + "</td><td>" + equipo.puntos + "</td><tr>";
        })
        cTable.innerHTML = auxT;
        

        selEquipo.onchange = function () {
            // obtiene el valor de A o B
            var valor = this.value;
            categoriaEquipos = datostabla.filter(function (cat) {
                return cat.categoria == valor
            });
            console.log(categoriaEquipos);

            cont.innerHTML = auxE;

            var cTable = document.getElementById('cuerpoTabla')
            var auxT = "";

            categoriaEquipos.forEach(function (equipo, index) {
                auxT += "<tr><td>" + equipo.equipo + "</td><td>" + equipo.puntos + "</td><tr>";
            })
            cTable.innerHTML = auxT;


        }

    
        function ordenar() {
            
            console.log("llego");
            ordenado = datostabla.sort(function (a, b) {
                if (b.puntos < a.puntos) {
                    return 1;
                }
                if (b.puntos > a.puntos) {
                    return -1;
                }
                return 0;
            });
            cont.innerHTML = auxE;
            var cTable = document.getElementById('cuerpoTabla')
            auxT="";
            ordenado.forEach(function (equipo, index) {
                auxT += "<tr><td>" + equipo.equipo + "</td><td>" + equipo.puntos + "</td><tr>";
            })
            cTable.innerHTML = auxT;
            console.log(ordenado);
        }


    </script>
</body>

</html>